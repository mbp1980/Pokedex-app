let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=898",n=document.querySelector(".status");function o(){n.classList.remove("ready"),n.classList.add("loading"),n.innerHTML="Loading..."}function i(){n.classList.remove("loading"),n.classList.add("ready"),n.innerHTML="Ready"}function a(t){if("object"!=typeof t)return"Sorry, Pokemon must have an Id, Name, Type, and Height.";e.push(t)}function s(e){o();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.id=t.id,e.imageUrl=t.sprites.other.dream_world.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types}).catch(function(e){console.log(e)})}return{getAll:function(){return e},add:a,loadList:function(){return o(),fetch(t).then(function(e){return e.json()}).then(function(e){i(),e.results.forEach(function(e){a({name:e.name,detailsUrl:e.url})})}).catch(function(e){i(),console.log(e)})},loadDetails:s,addListItem:function(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("button");n.innerText=e.name,n.classList.add("list-group-item"),n.classList.add("text-capitalize"),n.setAttribute("type","button"),n.classList.add("btn"),n.classList.add("btn-primary"),n.setAttribute("data-target","#pokemon-info"),n.setAttribute("data-toggle","modal"),n.setAttribute("data-bs-name",e.name),t.appendChild(n),n.addEventListener("click",function(){!function(e){s(e).then(function(){i(),function(e){$(".modal-header");let t=$(".modal-title"),n=$(".modal-body"),o=$("#pokemon-id");t.empty(),n.empty(),o.empty();let i=document.createElement("p"),a=document.createElement("img");a.setAttribute("src",e.imageUrl),a.classList.add("img-fluid"),a.classList.add("mb-2"),a.classList.add("pokepic");let s=document.createElement("p");s.innerText="Height: "+e.height/.1+" cm";let d=document.createElement("p");d.innerText="Weight: "+e.weight/10+" kg",t.append(e.name),n.append(i),n.append(a),n.append(s),n.append(d),e.types.forEach(function(e){})}(e)})}(e)})}}}();function searchPokemon(){let e=document.querySelector("#pokemon-search").value.toLowerCase(),t=document.querySelectorAll(".list-group-item");for(let n=0;n<t.length;n++){t[n].innerText.toLowerCase().indexOf(e)>-1?t[n].style.display="":t[n].style.display="none"}}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),window.addEventListener("keydown",function(e){"13"==e.keyCode&&e.preventDefault()});
